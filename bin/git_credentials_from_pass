#!/usr/bin/env bash

# assuming "get" action from git and a config like this
# git config --global credential.helper $XDG_BIN_HOME'/git_credentials_from_pass $@'
while IFS= read -r line
do
  echo "$line"
  if [[ "$line" =~ host=.*github.com.* ]]; then
    echo "username=rpuntaie"
    echo "password=$(pass show token_github.com/rpuntaie)"
  elif [[ "$line" =~ host=.*gitlab.vougee.gmbh.* ]]; then 
    echo "username=roland.puntaier"
    echo "password=$(pass show gitlab.vougee.gmbh/roland.puntaier)"
  elif  [[ "$line" =~ host=.*g.fastprj.tech.* ]]; then
    echo "username=roland.puntaier"
    echo "password=$(pass show g.fastprj.tech/roland.puntaier)"
  fi
done

