#########
# BSPWM #
#########

# Reload sxhkd
super + End
    pkill -USR1 -x sxhkd

# Reload BSPWM
super + Home
    sh ~/.config/bspwm/bspwmrc

# Quit  BSPWM
super + alt + Escape
    bspc quit

# Close the selected window
super + c
    bspc node -c

# Kill the selected window
super + x
    bspc node -k

########################
# States/Flags/Layouts #
########################

# set the window state
super + {y,p,s,f}
    bspc node -t {tiled,pseudo_tiled,floating,fullscreen}

# alternate between the tiled and monocle layout
super + {t,m}
   bspc desktop -l next

##############
# focus/swap #
##############

# Set the focus with the mouse pointer
~button1
    bspc pointer -g focus

# focus or send to the given desktop
super + {_,shift + }{1-9,0}
    bspc {desktop -f,node -d} '^{1-9,10}'

# Switch focus between the windows of the current desktop
alt + {_,shift + } Tab
    bspc node -f {next,prev}.local

# focus the last node/desktop
super + {shift,Tab}
  bspc {node,desktop} -f last

# swap the current node and the biggest node
super + g
    bspc node -s biggest

# focus the node in the given direction
alt + {_,shift + }{h,j,k,l}
  bspc node -{f,s} {west,south,north,east}

alt + {_,shift} + {Left,Down,Up,Right}
  bspc node -{f,s} {west,south,north,east}

#############
# Preselect #
#############

# Select a part of the focused window in order to place a new window
super + {Left,Down,Up,Right}
    bspc node -p {west,south,north,east}

# preselect the ratio
super + ctrl + {1-9}
    bspc node -o 0.{1-9}

# cancel the preselection for the focused node
super + space
    bspc node -p cancel

# cancel the preselection for the focused desktop
super + ctrl + space
    bspc query -N -d | xargs -I id -n 1 bspc node id -p cancel

#################################
# resize tiled/floating + move  #
#################################

# expand the tiled space in the given direction
super + alt + {Left,Down,Up,Right}
    bspc node {@west -r -20,@south -r +20,@north -r -20,@east -r +20}

# Resize a window using keyboard
super + alt + shift + {Left,Down,Up,Right}
    bspc node {@west -r +20,@south -r -20,@north -r +20,@east -r -20}

# Resize a window using the mouse
super + button{1-3}
    bspc pointer -g {move,resize_side,resize_corner}

# Balance
super + b
    bspc node @parent --balance

#####################
# Desktops/Monitors #
#####################

# Move between the desktops of a monitor
super + {q,w}
    bspc desktop -f {prev,next}

# Rotate the desktop of 90°
super + v
    bspc node @focused:/ -R 90

# Rotate the desktop of 180°
super + shift + v
    bspc node @focused:/ -R 180

########
# Misc #
########

# Launch a terminal
super + Return
    urxvt256c

# Lock
super + a
    lock
    #xlock -mode blank -dpmssuspend 5

# Rofi : Launcher
super + d
    dmenu_run

# Rofi : Windows list/selector
super + r
    dswitcher

# Rofi : pass
super + e
    pass-menu

# Screenshot
super + Print
    sleep 0.2; scrot -q100 -m -s -z /tmp/export.png -e 'gupaste $f' | awk '{print $NF}' | xclip -selection clipboard; notify-send 'Screenshot taken!' "Available in /tmp/export.png and $(xclip -o -selection clipboard) (copied to clipboard)"

# Current audio volume
section
    notify-send "PulseAudio Volume" "$(pavolume)"

# Dropdown
super + section
  tdrop -a -y 33 -w 1900 -x 10 -s dropdown urxvt

# Screenshot (select area) /!\ Broken /!\
#~> giblib error: couldn't grab keyboard:Resource temporarily unavailable
super + Print
    scrot -s
