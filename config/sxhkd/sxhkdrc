#########
# BSPWM #
#########

# Reload sxhkd
super + Escape
    pkill -USR1 -x sxhkd

# Reload BSPWM
super + alt + Insert
    sh ~/.config/bspwm/bspwmrc

# Quit  BSPWM
super + alt + Escape
    bspc quit

# Close the selected window
super + c
    bspc node -c

# Kill the selected window
super + x
    bspc node -k

# "False" fullscreen, respects padding/margin, etc. Kinda weird, but awesome
#super + shift + t
#    bspc desktop -l next

# Weird
super + bracket{left,right}
    bspc desktop -f {prev,next}

########################
# States/Flags/Layouts #
########################

# set the window state
super + {y,p,s,f}
    bspc node -t {tiled,pseudo_tiled,floating,fullscreen}

# set the node flags
super + ctrl + {x,y,z}
    bspc node -g {locked,sticky,private}


# alternate between the tiled and monocle layout
super + t
   bspc desktop -l next

# if the current node is automatic, send it to the last manual, otherwise pull the last leaf
#super + y
#    bspc query -N -n focused.automatic && bspc node -n last.!automatic || bspc node last.leaf -n focused

##############
# focus/swap #
##############

# Set the focus with the mouse pointer
~button1
    bspc pointer -g focus

# focus the node in the given direction
super + {_,shift + }{h,j,k,l}
    bspc node -{f,s} {west,south,north,east}

# focus the node for the given path jump
super + {p,b,comma,period}
    bspc node -f @{parent,brother,first,second}

# focus the next/previous node
super + {_,shift + }c
    bspc node -f {next,prev}

# focus the next/previous desktop
super + bracket{left,right}
    bspc desktop -f {prev,next}

# focus the last node/desktop
super + {grave,Tab}
    bspc {node,desktop} -f last

# focus the older or newer node in the focus history
super + {o,i}
    bspc wm -h off; \
    bspc node {older,newer} -f; \
    bspc wm -h on

# focus or send to the given desktop
super + {_,shift + }{1-9,0}
    bspc {desktop -f,node -d} '^{1-9,10}'

# Switch focus between the windows of the current desktop
super + Tab
    bspc node -f {next,prev}

# swap the current node and the biggest node
super + g
    bspc node -s biggest

#############
# Preselect #
#############
# Select a part of the focused window in order to place a new window
super + {Left,Down,Up,Right}
    bspc node -p {west,south,north,east}

# preselect the ratio
super + ctrl + {1-9}
    bspc node -o 0.{1-9}

# cancel the preselection for the focused node
super + ctrl + space
    bspc node -p cancel

# cancel the preselection for the focused desktop
super + ctrl + shift + space
    bspc query -N -d | xargs -I id -n 1 bspc node id -p cancel

#################################
# resize tiled/floating + move  #
#################################

# expand the tiled space in the given direction
super + alt + {h,j,k,l}
    bspc node {@west -r -10,@south -r +10,@north -r -10,@east -r +10}

# contract the tiled space in the given direction
super + alt + shift + {h,j,k,l}
    bspc node {@east -r -10,@north -r +10,@south -r -10,@west -r +10}

# move a floating window
super + alt + {h,j,k,l}
    bspc node -v {-20 0,0 20,0 -20,20 0}

# Resize a window using keyboard
super + alt + {h,j,k,l}
    bspc node -e {west -10,south +10,north -10,east +10}

# Resize a window using keyboard
super + alt + shift + {h,j,k,l}
    bspc node -e {east -10,north +10,south -10,west +10}

# Resize a window using the mouse
super + button{1-3}
    bspc pointer -g {move,resize_side,resize_corner}

# Adjust the split ratios of the tree of the selected desktop so that all windows occupy the same area
super + b
    bspc desktop -B

# Send the focused window to the X° desktop
super + {_,shift + }{1-9,0}
    bspc {desktop -f,node -d} ^{1-9,10}

#####################
# Desktops/Monitors #
#####################

# Move between the desktops of a monitor
super + {q,w}
    bspc desktop -f {prev,next}

# Invert the vertical alignment (Or something like that...)
super + n
    bspc desktop -F vertical

# Rotate the desktop of 90°
super + v
    bspc node @focused:/ -R 90

# Rotate the desktop of 180°
super + shift + v
    bspc node @focused:/ -R 180

#super + {q,w}
#    bspc monitor -f {L,R}

#super + {shift,alt} + {q,w}
#    bspc {window,desktop} -m {L,R}

### Pointer/Mouse

# No idea
#super + !button{1-3}
#    bspc pointer -t %i %i

# No idea
#super + @button{1-3}
#    bspc pointer -u

##########
# Others #
##########

# Launch a terminal
super + Return
    urxvt

# Lock
super + a
    lock

# Rofi : Launcher
super + d
     rofi -show run -font "snap 10" -fg "#eee8d5" -bg "#073642" -hlfg "#ffb964" -hlbg "#073642" -o 85 #-bordercolor "#fff"

# Rofi : Windows list/selector
super + r
     rofi -show window -font "snap 10" -fg "#eee8d5" -bg "#073642" -hlfg "#ffb964" -hlbg "#073642" -o 85 

# Rofi : pass
super + e
     pass-menu

# Power status notification
super + ISO_Level3_Shift
    power-check.rb

# Screenshot
super + Print
    scrot

# Screenshot (select area) /!\ Broken /!\
#~> giblib error: couldn't grab keyboard:Resource temporarily unavailable
super + Control_R
    scrot -s

###########
# F-stuff #
###########

# Media Key : Lower audio volume
XF86AudioLowerVolume
    pactl set-sink-volume 1 -10%
# Media Key : Raise audio volume
XF86AudioRaiseVolume
    pactl set-sink-volume 1 +10%

# Media Key : Mute card #1
XF86AudioMute
    pactl set-sink-mute 1 toggle

# Lower brightness
XF86MonBrightnessDown
    xbacklight -dec 10

# Raise Brigtness
XF86MonBrightnessUp
    xbacklight -inc 10
